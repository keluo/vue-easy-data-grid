/*!
 * vue.dataGrid.js
 * (c) 2017-2019 yuw
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["vue.dataGrid"]=e():t["vue.dataGrid"]=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(s[n])return s[n].exports;var l=s[n]={i:n,l:!1,exports:{}};return t[n].call(l.exports,l,l.exports,e),l.l=!0,l.exports}var s={};return e.m=t,e.c=s,e.d=function(t,s,n){e.o(t,s)||Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),l=s.n(n),o=function(t){t.component(l.a.name,l.a)};l.a.install=o,"undefined"!=typeof window&&window.Vue&&o(window.Vue),e.default=l.a},function(t,e,s){var n=s(3)(s(4),s(5),!1,function(t){s(2)},"data-v-5bed7316",null);t.exports=n.exports},function(t,e){},function(t,e){t.exports=function(t,e,s,n,l,o){var i,a=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(i=t,a=t.default);var c,u="function"==typeof a?a.options:a;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),s&&(u.functional=!0),l&&(u._scopeId=l),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=c):n&&(c=n),c){var f=u.functional,p=f?u.render:u.beforeCreate;f?(u._injectStyles=c,u.render=function(t,e){return c.call(e),p(t,e)}):u.beforeCreate=p?[].concat(p,c):[c]}return{esModule:i,exports:a,options:u}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default={name:"vue-data-grid",props:{selection:{default:function(){return!1},type:Boolean},listData:{default:function(){return[]},type:Array},columns:{default:function(){return{}},type:Object},zebra:{default:function(){return!0},type:Boolean},hasOperation:{default:function(){return!1},type:Boolean},isKeyValue:{default:function(){return!0},type:Boolean},isLoading:{default:function(){return!1},type:Boolean}},data:function(){return{filter:{},selectionVal:[]}},mounted:function(){if(this.columns)for(var t in this.columns)if(this.columns.hasOwnProperty(t)){var e=this.columns[t];e.sort&&void 0!==e.sort.type&&this.sort(e.sort.type,t)}},computed:{currentListData:function(){return JSON.parse(JSON.stringify(this.listData))},selectionAllVal:{get:function(){for(var t=0,e=0;e<this.selectionVal.length;e++)"undefined"!==this.selectionVal[e]&&this.selectionVal[e]&&t++;return t===this.currentListData.length},set:function(){if(this.selectionAllVal)this.selectionVal=[];else{this.selectionVal=[];for(var t=0;t<this.currentListData.length;t++)this.selectionVal.push(!0)}}}},watch:{selectionVal:function(t){this.$emit("on-selection-change",t)}},methods:{sort:function(t,e){var s=null;"object"==n(this.columns[e].sort)&&"string"==typeof this.columns[e].sort.type&&(s=this.columns[e].sort.type),this.clearSort(),"boolean"==typeof this.columns[e].sort&&(this.columns[e].sort={}),void 0===this.columns[e].sort.type&&this.$set(this.columns[e].sort,"type",""),"up"===t?this.columns[e].sort.type="up":"down"===t&&(this.columns[e].sort.type="down"),this.columns[e].sort.custom&&"function"==typeof this.columns[e].sort.custom?(s===t&&(this.columns[e].sort.type=""),this.columns[e].sort.custom(t,e,s)):s===t?(this.currentListData=JSON.parse(JSON.stringify(this.listData)),this.columns[e].sort.type=""):this.currentListData.sort(this.sortBy(e,"up"===t))},clearSort:function(){for(var t in this.columns)this.columns.hasOwnProperty(t)&&this.columns[t].sort&&this.columns[t].sort.type&&(this.columns[t].sort.type="")},sortBy:function(t,e){return e=void 0==e?1:e?1:-1,function(s,n){return(s=s[t])<(n=n[t])?-1*e:s>n?1*e:0}},clearSelection:function(){this.selectionVal=[]},selectionAllChange:function(){if(this.selectionAllVal)this.selectionVal=[];else{this.selectionVal=[];for(var t=0;t<this.currentListData.length;t++)this.selectionVal.push(!0)}},formatter:function(t,e,s){return t.formatter&&"function"==typeof t.formatter?t.formatter(e):e[s]},click:function(t,e,s){return t.click?t.click(e):e[s]},showFilter:function(t){this.filter[t]?this.filter[t]=0:this.$set(this.filter,t,1)},filterSubmit:function(t){this.$emit("filter-option"),this.filter[t]=0}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vue-table-wrap",class:t.isLoading?"loading":""},[s("table",{staticClass:"vue-table"},[s("thead",[t.isKeyValue?t._e():s("tr",[t.selection&&t.currentListData&&t.currentListData.length>0?s("th",[s("label",{staticClass:"checkbox-wrap"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectionAllVal,expression:"selectionAllVal"}],staticClass:"checkbox-input",attrs:{type:"checkbox",id:"selectionAll"},domProps:{checked:Array.isArray(t.selectionAllVal)?t._i(t.selectionAllVal,null)>-1:t.selectionAllVal},on:{change:function(e){var s=t.selectionAllVal,n=e.target,l=!!n.checked;if(Array.isArray(s)){var o=t._i(s,null);n.checked?o<0&&(t.selectionAllVal=s.concat([null])):o>-1&&(t.selectionAllVal=s.slice(0,o).concat(s.slice(o+1)))}else t.selectionAllVal=l}}}),s("label",{staticClass:"checkbox-inner",attrs:{for:"selectionAll"}})])]):t._e(),t._l(t.columns,function(e){return s("th",{domProps:{textContent:t._s(e)}})}),t.hasOperation?s("th",[t._v("操作")]):t._e()],2),t.isKeyValue?s("tr",[t.selection&&t.currentListData&&t.currentListData.length>0?s("th",[s("label",{staticClass:"checkbox-wrap"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectionAllVal,expression:"selectionAllVal"}],staticClass:"checkbox-input",attrs:{type:"checkbox",id:"selectionAll"},domProps:{checked:Array.isArray(t.selectionAllVal)?t._i(t.selectionAllVal,null)>-1:t.selectionAllVal},on:{change:function(e){var s=t.selectionAllVal,n=e.target,l=!!n.checked;if(Array.isArray(s)){var o=t._i(s,null);n.checked?o<0&&(t.selectionAllVal=s.concat([null])):o>-1&&(t.selectionAllVal=s.slice(0,o).concat(s.slice(o+1)))}else t.selectionAllVal=l}}}),s("label",{staticClass:"checkbox-inner",attrs:{for:"selectionAll"}})])]):t._e(),t._l(t.columns,function(e,n){return s("th",[s("span",{staticClass:"head-name",domProps:{textContent:t._s("object"==typeof e?e.name:e)}}),"object"==typeof e&&e.sort?s("div",{staticClass:"sort-wrap"},[e.sort.support&&"up"!==e.sort.support?t._e():s("span",{staticClass:"sort-up",class:"up"===e.sort.type?"on":"",on:{click:function(e){t.sort("up",n)}}},[s("i",{staticClass:"icon-sort-up"})]),e.sort.support&&"down"!==e.sort.support?t._e():s("span",{staticClass:"sort-down",class:"down"===e.sort.type?"on":"",on:{click:function(e){t.sort("down",n)}}},[s("i",{staticClass:"icon-sort-down"})])]):t._e(),"object"==typeof e&&e.filter?s("div",{staticClass:"filter-wrap",on:{click:function(e){t.showFilter(n)}}},[s("i",{staticClass:"icon-filter",class:t.columns[n].filterValue&&t.columns[n].filterValue.length>0?"current":""}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.filter[n],expression:"filter[key]"}],staticClass:"filter-ext-wrap"},[s("div",{staticClass:"filter-content"},t._l(e.filter,function(e,l){return s("div",{staticClass:"filter-item"},[s("label",{staticClass:"checkbox-wrap"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.columns[n].filterValue,expression:"columns[key].filterValue"}],staticClass:"checkbox-input",attrs:{type:"checkbox",id:"filterName"+l},domProps:{value:l,checked:Array.isArray(t.columns[n].filterValue)?t._i(t.columns[n].filterValue,l)>-1:t.columns[n].filterValue},on:{change:function(e){var s=t.columns[n].filterValue,o=e.target,i=!!o.checked;if(Array.isArray(s)){var a=l,r=t._i(s,a);o.checked?r<0&&(t.columns[n].filterValue=s.concat([a])):r>-1&&(t.columns[n].filterValue=s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.columns[n],"filterValue",i)}}}),s("label",{staticClass:"checkbox-inner",attrs:{for:"filterName"+l}})]),s("span",{staticClass:"filter-item-txt",domProps:{textContent:t._s(e)}})])})),s("div",{staticClass:"filter-options"},[s("a",{staticClass:"confirm",on:{click:function(e){t.filterSubmit(n)}}},[t._v("确定")]),s("a",{staticClass:"reset"},[t._v("重置")])])])]):t._e()])}),t.hasOperation?s("th",[t._v("操作")]):t._e()],2):t._e()]),s("tbody",[t._l(t.currentListData,function(e,n){return t.isKeyValue?t._e():s("tr",{class:t.zebra&&n%2==1?"zebra-line":""},[t.selection?s("td",{staticStyle:{"min-width":"0px",width:"45px"}},[s("label",{staticClass:"checkbox-wrap"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectionVal[n],expression:"selectionVal[index]"}],staticClass:"checkbox-input",attrs:{id:"selection_"+n,type:"checkbox"},domProps:{checked:Array.isArray(t.selectionVal[n])?t._i(t.selectionVal[n],null)>-1:t.selectionVal[n]},on:{change:function(e){var s=t.selectionVal[n],l=e.target,o=!!l.checked;if(Array.isArray(s)){var i=t._i(s,null);l.checked?i<0&&(t.selectionVal[n]=s.concat([null])):i>-1&&(t.selectionVal[n]=s.slice(0,i).concat(s.slice(i+1)))}else t.$set(t.selectionVal,n,o)}}}),s("label",{staticClass:"checkbox-inner",attrs:{for:"selection_"+n}})])]):t._e(),t._l(e,function(e,n){return s("td",{attrs:{"track-by":"$index"},domProps:{textContent:t._s(e)}})}),t.hasOperation?s("td",{staticClass:"options"},[t._t("default",null,{data:e,index:n})],2):t._e()],2)}),t._l(t.currentListData,function(e,n){return t.isKeyValue?s("tr",{class:t.zebra&&n%2==1?"zebra-line":""},[t.selection?s("td",{staticStyle:{"min-width":"0px",width:"45px"}},[s("label",{staticClass:"checkbox-wrap"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectionVal[n],expression:"selectionVal[index]"}],staticClass:"checkbox-input",attrs:{id:"selection_"+n,type:"checkbox"},domProps:{checked:Array.isArray(t.selectionVal[n])?t._i(t.selectionVal[n],null)>-1:t.selectionVal[n]},on:{change:function(e){var s=t.selectionVal[n],l=e.target,o=!!l.checked;if(Array.isArray(s)){var i=t._i(s,null);l.checked?i<0&&(t.selectionVal[n]=s.concat([null])):i>-1&&(t.selectionVal[n]=s.slice(0,i).concat(s.slice(i+1)))}else t.$set(t.selectionVal,n,o)}}}),s("label",{staticClass:"checkbox-inner",attrs:{for:"selection_"+n}})])]):t._e(),t._l(t.columns,function(l,o){return s("td",["object"!=typeof l||l.isSlot?t._e():s("span",{domProps:{innerHTML:t._s(t.formatter(l,t.currentListData[n],o))},on:{click:function(e){t.click(l,t.currentListData[n],o)}}}),"object"!=typeof l?s("span",{domProps:{textContent:t._s(e[o])}}):t._e(),"object"==typeof l&&l.isSlot?t._t("slot-"+o,null,{data:e,index:n}):t._e()],2)}),t.hasOperation?s("td",{staticClass:"options"},[t._t("default",null,{data:e,index:n})],2):t._e()],2):t._e()})],2)]),t.isLoading?s("div",{staticClass:"vue-table-loading "},[t._m(0)]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loadEffect"},[e("span"),e("span"),e("span"),e("span"),e("span"),e("span"),e("span"),e("span")])}]}}])});