/*!
 * vue.dataGrid.js
 * (c) 2017-2018 yuw
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["vue.dataGrid"]=t():e["vue.dataGrid"]=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(l[n])return l[n].exports;var i=l[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var l={};return t.m=e,t.c=l,t.d=function(e,l,n){t.o(e,l)||Object.defineProperty(e,l,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(l,"a",l),l},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(1),i=l.n(n),a=function(e){e.component(i.a.name,i.a)};i.a.install=a,"undefined"!=typeof window&&window.Vue&&a(window.Vue),t.default=i.a},function(e,t,l){var n=l(3)(l(4),l(5),!1,function(e){l(2)},"data-v-0d403fc0",null);e.exports=n.exports},function(e,t){},function(e,t){e.exports=function(e,t,l,n,i,a){var s,c=e=e||{},o=typeof e.default;"object"!==o&&"function"!==o||(s=e,c=e.default);var r,u="function"==typeof c?c.options:c;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),l&&(u.functional=!0),i&&(u._scopeId=i),a?(r=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=r):n&&(r=n),r){var f=u.functional,d=f?u.render:u.beforeCreate;f?(u._injectStyles=r,u.render=function(e,t){return r.call(t),d(e,t)}):u.beforeCreate=d?[].concat(d,r):[r]}return{esModule:s,exports:c,options:u}}},function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"vue-data-grid",props:{selection:{default:function(){return!1},type:Boolean},listData:{default:function(){return[]},type:Array},columns:{default:function(){return{}},type:Object},zebra:{default:function(){return!0},type:Boolean},hasOperation:{default:function(){return!1},type:Boolean},isKeyValue:{default:function(){return!0},type:Boolean},isLoading:{default:function(){return!1},type:Boolean}},data:function(){return{filter:{},selectionVal:[]}},mounted:function(){},computed:{selectionAllVal:{get:function(){for(var e=0,t=0;t<this.selectionVal.length;t++)"undefined"!==this.selectionVal[t]&&this.selectionVal[t]&&e++;return e===this.listData.length},set:function(){if(this.selectionAllVal)this.selectionVal=[];else{this.selectionVal=[];for(var e=0;e<this.listData.length;e++)this.selectionVal.push(!0)}}}},watch:{selectionVal:function(e){this.$emit("on-selection-change",e)}},methods:{clearSelection:function(){this.selectionVal=[]},selectionAllChange:function(){if(this.selectionAllVal)this.selectionVal=[];else{this.selectionVal=[];for(var e=0;e<this.listData.length;e++)this.selectionVal.push(!0)}},callback:function(e,t,l){return e.callback?e.callback(t):t[l]},click:function(e,t,l){return e.click?e.click(t):t[l]},sortBy:function(e){this.sortKey=e,this.sortOrders[e]=-1*this.sortOrders[e]},showFilter:function(e){this.filter[e]?this.filter[e]=0:Vue.set(this.filter,e,1)},filterSubmit:function(e){this.$emit("filter-option"),this.filter[e]=0}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"vue-table-wrap",class:e.isLoading?"loading":""},[l("table",{staticClass:"vue-table"},[l("thead",[e.isKeyValue?e._e():l("tr",[e.selection&&e.listData&&e.listData.length>0?l("th",[l("label",{staticClass:"checkbox-wrap"},[e._v("'\r\n            "),l("input",{directives:[{name:"model",rawName:"v-model",value:e.selectionAllVal,expression:"selectionAllVal"}],staticClass:"checkbox-input",attrs:{type:"checkbox",id:"selectionAll"},domProps:{checked:Array.isArray(e.selectionAllVal)?e._i(e.selectionAllVal,null)>-1:e.selectionAllVal},on:{change:function(t){var l=e.selectionAllVal,n=t.target,i=!!n.checked;if(Array.isArray(l)){var a=e._i(l,null);n.checked?a<0&&(e.selectionAllVal=l.concat([null])):a>-1&&(e.selectionAllVal=l.slice(0,a).concat(l.slice(a+1)))}else e.selectionAllVal=i}}}),l("label",{staticClass:"checkbox-inner",attrs:{for:"selectionAll"}})])]):e._e(),e._l(e.columns,function(t){return l("th",{domProps:{textContent:e._s(t)}})}),e.hasOperation?l("th",[e._v("操作")]):e._e()],2),e.isKeyValue?l("tr",[e.selection&&e.listData&&e.listData.length>0?l("th",[l("label",{staticClass:"checkbox-wrap"},[l("input",{directives:[{name:"model",rawName:"v-model",value:e.selectionAllVal,expression:"selectionAllVal"}],staticClass:"checkbox-input",attrs:{type:"checkbox",id:"selectionAll"},domProps:{checked:Array.isArray(e.selectionAllVal)?e._i(e.selectionAllVal,null)>-1:e.selectionAllVal},on:{change:function(t){var l=e.selectionAllVal,n=t.target,i=!!n.checked;if(Array.isArray(l)){var a=e._i(l,null);n.checked?a<0&&(e.selectionAllVal=l.concat([null])):a>-1&&(e.selectionAllVal=l.slice(0,a).concat(l.slice(a+1)))}else e.selectionAllVal=i}}}),l("label",{staticClass:"checkbox-inner",attrs:{for:"selectionAll"}})])]):e._e(),e._l(e.columns,function(t,n){return l("th",[l("span",{domProps:{textContent:e._s("object"==typeof t?t.name:t)}}),"object"==typeof t&&t.filter?l("i",{staticClass:"fa fa-filter",class:e.columns[n].filterValue&&e.columns[n].filterValue.length>0?"current":"",on:{click:function(t){e.showFilter(n)}}}):e._e(),"object"==typeof t&&t.filter&&t.filter.length>0?l("div",{directives:[{name:"show",rawName:"v-show",value:e.filter[n],expression:"filter[key]"}],staticClass:"filter-wrap"},[l("div",{staticClass:"filter-content"},e._l(t.filter,function(t,i){return l("div",{staticClass:"filter-item"},[l("input",{directives:[{name:"model",rawName:"v-model",value:e.columns[n].filterValue,expression:"columns[key].filterValue"}],staticClass:"css-checkbox",attrs:{id:"fiterName"+i,type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.columns[n].filterValue)?e._i(e.columns[n].filterValue,t)>-1:e.columns[n].filterValue},on:{change:function(l){var i=e.columns[n].filterValue,a=l.target,s=!!a.checked;if(Array.isArray(i)){var c=t,o=e._i(i,c);a.checked?o<0&&(e.columns[n].filterValue=i.concat([c])):o>-1&&(e.columns[n].filterValue=i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.columns[n],"filterValue",s)}}}),l("input",{directives:[{name:"model",rawName:"v-model",value:e.fiterName,expression:"fiterName"}],staticClass:"css-checkbox",attrs:{id:"fiterName"+i,type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.fiterName)?e._i(e.fiterName,t)>-1:e.fiterName},on:{change:function(l){var n=e.fiterName,i=l.target,a=!!i.checked;if(Array.isArray(n)){var s=t,c=e._i(n,s);i.checked?c<0&&(e.fiterName=n.concat([s])):c>-1&&(e.fiterName=n.slice(0,c).concat(n.slice(c+1)))}else e.fiterName=a}}}),l("label",{staticClass:"css-label",attrs:{for:"fiterName"+i},domProps:{textContent:e._s(t)}})])})),l("div",{staticClass:"filter-options"},[l("a",{staticClass:"confirm",on:{click:function(t){e.filterSubmit(n)}}},[e._v("确定")])])]):e._e(),e._t("filter",null,{data:t,showFlg:e.filter})],2)}),e.hasOperation?l("th",[e._v("操作")]):e._e()],2):e._e()]),l("tbody",[e._l(e.listData,function(t,n){return e.isKeyValue?e._e():l("tr",{class:e.zebra&&n%2==1?"zebra-line":""},[e.selection?l("td",{staticStyle:{"min-width":"0px",width:"45px"}},[l("label",{staticClass:"checkbox-wrap"},[l("input",{directives:[{name:"model",rawName:"v-model",value:e.selectionVal[n],expression:"selectionVal[index]"}],staticClass:"checkbox-input",attrs:{id:"selection_"+n,type:"checkbox"},domProps:{checked:Array.isArray(e.selectionVal[n])?e._i(e.selectionVal[n],null)>-1:e.selectionVal[n]},on:{change:function(t){var l=e.selectionVal[n],i=t.target,a=!!i.checked;if(Array.isArray(l)){var s=e._i(l,null);i.checked?s<0&&(e.selectionVal[n]=l.concat([null])):s>-1&&(e.selectionVal[n]=l.slice(0,s).concat(l.slice(s+1)))}else e.$set(e.selectionVal,n,a)}}}),l("label",{staticClass:"checkbox-inner",attrs:{for:"selection_"+n}})])]):e._e(),e._l(t,function(t,n){return l("td",{attrs:{"track-by":"$index"},domProps:{textContent:e._s(t)}})}),e.hasOperation?l("td"):e._e()],2)}),e._l(e.listData,function(t,n){return e.isKeyValue?l("tr",{class:e.zebra&&n%2==1?"zebra-line":""},[e.selection?l("td",{staticStyle:{"min-width":"0px",width:"45px"}},[l("label",{staticClass:"checkbox-wrap"},[l("input",{directives:[{name:"model",rawName:"v-model",value:e.selectionVal[n],expression:"selectionVal[index]"}],staticClass:"checkbox-input",attrs:{id:"selection_"+n,type:"checkbox"},domProps:{checked:Array.isArray(e.selectionVal[n])?e._i(e.selectionVal[n],null)>-1:e.selectionVal[n]},on:{change:function(t){var l=e.selectionVal[n],i=t.target,a=!!i.checked;if(Array.isArray(l)){var s=e._i(l,null);i.checked?s<0&&(e.selectionVal[n]=l.concat([null])):s>-1&&(e.selectionVal[n]=l.slice(0,s).concat(l.slice(s+1)))}else e.$set(e.selectionVal,n,a)}}}),l("label",{staticClass:"checkbox-inner",attrs:{for:"selection_"+n}})])]):e._e(),e._l(e.columns,function(i,a){return l("td",["object"==typeof i?l("span",{domProps:{innerHTML:e._s(e.callback(i,e.listData[n],a))},on:{click:function(t){e.click(i,e.listData[n],a)}}}):e._e(),"object"!=typeof i?l("span",{domProps:{textContent:e._s(t[a])}}):e._e()])}),e.hasOperation?l("td",{staticClass:"options"},[e._t("default",null,{data:t})],2):e._e()],2):e._e()})],2)]),e.isLoading?l("div",{staticClass:"vue-table-loading "},[e._m(0)]):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"loadEffect"},[t("span"),t("span"),t("span"),t("span"),t("span"),t("span"),t("span"),t("span")])}]}}])});